# Smart Note Collector Windows 客户端

## 简介

Smart Note Collector Windows 客户端是一个基于 Electron 开发的桌面应用程序，提供了智能笔记收集和管理功能。它包含了 Chrome 扩展的所有功能，并新增了剪切板监听功能。

## 核心功能

### 🔄 剪切板监听
- **自动监听剪切板变化**：实时监控剪切板内容变化
- **智能弹窗提醒**：右下角自动弹出类似弹窗广告的通知
- **15秒自动消失**：通知会在15秒后自动消失，不影响其他操作
- **支持文字和图片**：监听复制的文字内容和图片内容
- **一键保存**：点击"保存"按钮即可将内容保存为笔记

### 📝 文字收集
- **快速笔记**：通过快捷键或界面快速创建文字笔记
- **主题分类**：支持选择或创建主题对笔记进行分类
- **标签管理**：为笔记添加标签便于查找和管理

### 📷 截图功能
- **区域截图**：支持拖拽选择截图区域
- **全屏截图**：一键截取整个屏幕
- **自动保存**：截图自动上传并保存为笔记
- **主题选择**：截图后可选择保存的主题

### 🕷️ 网页爬取
- **URL输入**：输入网页地址自动爬取内容
- **智能提取**：自动提取网页标题、描述、正文等信息
- **格式化保存**：将爬取内容格式化保存为Markdown笔记

### 🎯 系统托盘
- **后台运行**：最小化到系统托盘继续运行
- **快捷操作**：右键托盘图标进行快速操作
- **全局快捷键**：支持系统级快捷键

## 技术特性

- **基于 Electron**：跨平台桌面应用框架
- **Node.js 后端**：强大的服务端功能支持
- **原生界面**：符合 Windows 设计规范的用户界面
- **API 集成**：完整集成现有服务器API接口
- **数据同步**：与 Chrome 扩展和 Web 端数据同步

## 安装要求

- Windows 10 或更高版本
- 4GB 以上内存
- 100MB 可用磁盘空间
- 网络连接（用于与服务器通信）

## 快速开始

### 安装依赖
```bash
cd windows-client
npm install
```

### 开发模式运行
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 打包 Windows 安装程序
```bash
npm run build:win
```

## 配置说明

### 服务器设置
1. 打开应用后点击设置按钮
2. 在"服务器设置"中配置服务器地址
3. 默认地址：`http://localhost:3000`
4. 点击"测试连接"验证配置

### 剪切板监听
- **启用/禁用**：可在设置中或托盘菜单中切换
- **通知时长**：可设置为5-30秒不等
- **监听类型**：可选择监听文字、图片或两者

### 快捷键
- `Ctrl + Shift + S`：快速截图
- `Ctrl + Shift + N`：新建笔记
- `Ctrl + Shift + Q`：显示/隐藏主窗口

## 目录结构

```
windows-client/
├── src/                    # 源代码目录
│   ├── main.js            # 主进程入口
│   ├── core/              # 核心功能模块
│   │   ├── ClipboardManager.js     # 剪切板管理
│   │   ├── ScreenshotManager.js    # 截图管理
│   │   ├── WebCrawler.js          # 网页爬虫
│   │   ├── ApiClient.js           # API客户端
│   │   └── NotificationManager.js # 通知管理
│   └── ui/                # 用户界面
│       ├── index.html     # 主界面
│       ├── settings.html  # 设置界面
│       ├── notification.html # 通知界面
│       ├── styles/        # 样式文件
│       └── scripts/       # 前端脚本
├── assets/                # 资源文件
│   ├── app-icon.png      # 应用图标
│   └── tray-icon.png     # 托盘图标
├── package.json          # 项目配置
└── README.md            # 说明文档
```

## 核心架构

### 主进程 (main.js)
- 应用生命周期管理
- 窗口创建和管理
- 全局快捷键注册
- 系统托盘创建
- IPC 通信协调

### 核心模块
- **ClipboardManager**：剪切板内容监听和处理
- **NotificationManager**：剪切板通知弹窗管理
- **ScreenshotManager**：截图功能和区域选择
- **WebCrawler**：网页内容爬取和解析
- **ApiClient**：与服务器API通信

### 渲染进程
- 主界面：笔记列表、主题管理、搜索等
- 设置界面：应用配置和偏好设置
- 通知界面：剪切板通知弹窗

## API 接口

与现有服务器完全兼容，支持以下接口：

- `POST /api/quick-import` - 快速导入笔记
- `GET /api/notes` - 获取笔记列表
- `GET /api/themes` - 获取主题列表
- `POST /api/upload` - 上传图片文件
- `POST /api/crawl-content` - 爬取网页内容（如果服务器支持）

## 开发指南

### 添加新功能
1. 在 `src/core/` 中创建功能模块
2. 在 `main.js` 中集成模块
3. 添加 IPC 处理器
4. 在前端添加相应UI

### 调试技巧
1. 开发模式会自动打开开发者工具
2. 主进程日志在终端中查看
3. 渲染进程日志在开发者工具中查看

### 构建说明
- 使用 `electron-builder` 进行打包
- 支持生成 NSIS 安装程序
- 可配置自动更新功能

## 常见问题

### Q: 剪切板监听不工作？
A: 检查是否在设置中启用了剪切板监听，并确保应用有足够的系统权限。

### Q: 无法连接到服务器？
A: 确保服务器正在运行，并检查防火墙设置。可在设置中测试连接。

### Q: 截图功能异常？
A: 确保应用有屏幕录制权限，Windows 10+ 可能需要手动授权。

### Q: 通知不显示？
A: 检查 Windows 通知设置，确保允许应用显示通知。

## 更新日志

### v1.0.0
- 初始版本发布
- 实现剪切板监听功能
- 集成 Chrome 扩展所有功能
- 支持截图、文字收集、网页爬取
- 完整的 UI 界面和设置功能

## 许可证

MIT License

## 支持

如有问题或建议，请创建 Issue 或联系开发团队。